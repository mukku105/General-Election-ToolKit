{% extends 'base.html' %}

{% block title %} Voters Turnout {% endblock %}

{% block navbar %}
{% include 'common/navbar.html' %}
{% endblock %}

{% block content %}
<div id="overlay-spinner" class="spinner-overlay">
    <div class="spinner-border text-primary" style="width: 5rem; height: 5rem;">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
    <div class="mt-2 mb-4 d-flex align-items-center">
        <h1 class="display-6 flex-grow-1">Voters Turnout Details</h1>
        <div class="border text-center rounded m-2 p-2 bg-light">
            <h4>AC Electors:</h4>
            <span>
                <span class="fs-5"> 
                    <span class="badge bg-secondary" data-m-voters="">M: {{ assembly_const.electors_female }}</span>
                </span class="fs-5">
                <span class="fs-5">
                    <span class="badge bg-secondary" data-f-voters="">F:</span>

                </span class="fs-5">
                <span class="fs-5">
                    <span class="badge bg-secondary" data-o-voters="">O:</span>

                </span class="fs-5">
                <span class="fs-5">
                    <span class="badge bg-info" data-t-voters="">T:</span>
                </span class="fs-5">
            </span>           
        </div>
        <div class="border text-center rounded m-2 p-2 bg-light">
            <h4>Turnout %</h4>
            <span>
                <span class="fs-5"> 
                    <span class="badge bg-secondary" data-m-voters="">M:</span>
                </span class="fs-5">
                <span class="fs-5">
                    <span class="badge bg-secondary" data-f-voters="">F:</span>

                </span class="fs-5">
                <span class="fs-5">
                    <span class="badge bg-secondary" data-o-voters="">O:</span>

                </span class="fs-5">
                <span class="fs-5">
                    <span class="badge bg-info" data-t-voters="">T:</span>
                </span class="fs-5">
            </span>
        </div>
    </div>

    <div class="voters-turnout-details">
        <div class="accordion" id="accordian-voter-turnout">
            {% for ps in p_station %}
            <div id="accordian-{{ps.assembly_const_no}}-{{ps.part_no}}" class="accordion-item" data-ac-no="{{ ps.assembly_const_no }}" data-ps-code="{{ ps.ps_code }}">
                <h2 class="accordion-header" id="heading{{ loop.index }}">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{ps.assembly_const_no}}-{{ps.part_no}}">
                        {{ ps.ps_code}} - {{ps.ps_name }} 
                        {% if ps.is_sangha %}
                        <span class="badge bg-danger m-2">Sangha</span>
                        {% endif %}
                        <span class="border rounded m-2 p-2 bg-light">
                            Actual Voters:
                            <span class="badge bg-secondary" data-m-voters="{{ ps.electors_male }}">M: {{ ps.electors_male }}</span>
                            <span class="badge bg-secondary" data-f-voters="{{ ps.electors_female }}">F: {{ ps.electors_female }}</span>
                            <span class="badge bg-secondary" data-o-voters="{{ ps.electors_other }}">O: {{ ps.electors_other }}</span>
                            <span class="badge bg-info" data-t-voters="{{ ps.electors_total }}">T: {{ ps.electors_total }}</span>
                        </span>
                        <span class="border rounded m-2 p-2 bg-light current-turnout">
                            Current:
                            <span class="badge bg-success"></span>
                            <span class="badge bg-success"></span>
                            <span class="badge bg-success"></span>
                            <span class="badge bg-danger"></span>
                        </span>
                    </button>
                </h2>
                <div id="collapse-{{ps.assembly_const_no}}-{{ps.part_no}}" class="accordion-collapse collapse" data-bs-parent="#accordian-voter-turnout">
                    <div class="accordion-body bg-dark text-light" data-ps-code="{{ ps.ps_code }}" data-ac-no="{{ ps.assembly_const_no }}" data-part-no="{{ ps.part_no }}">
                        <!-- action btn div content right-->
                        <div class="d-flex justify-content-center rounded">
                            <button class="btn btn-lg btn-warning m-1 reload-turnout-btn fw-bold">Reload</button>
                            <button class="btn btn-lg btn-info m-1 update-turnout-btn fw-bold">Update</button>
                        </div>
                        <hr>

                        <!--1 9AM-->
                        <div class="table-responsive mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">9 AM</h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% if ps.is_sangha %}
                                            <tr>
                                                <td class="bg-danger text-center" style="font-size:1.3rem; font-weight: bold; color: white;" colspan="9">Sangha</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!--2 11AM-->
                        <div class="table-responsive  mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">11 AM</h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% if ps.is_sangha %}
                                            <tr>
                                                <td class="bg-danger text-center" style="font-size:1.3rem; font-weight: bold; color: white;" colspan="9">Sangha</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!--3 1PM-->
                        <div class="table-responsive  mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">01 PM</h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% if ps.is_sangha %}
                                            <tr>
                                                <td class="bg-danger text-center" style="font-size:1.3rem; font-weight: bold; color: white;" colspan="9">Sangha</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div> 
                        </div>
                        <!--4 3PM-->
                        <div class="table-responsive  mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">03 PM</h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% if ps.is_sangha %}
                                            <tr>
                                                <td class="bg-danger text-center" style="font-size:1.3rem; font-weight: bold; color: white;" colspan="9">Sangha</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div> 
                        </div>
                        <!--5 5PM-->
                        <div class="table-responsive  mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">05 PM</h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% if ps.is_sangha %}
                                            <tr>
                                                <td class="bg-danger text-center" style="font-size:1.3rem; font-weight: bold; color: white;" colspan="9">Sangha</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!--6 7PM AC-->
                        <div class="table-responsive  mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title">(CLOSE OF POLL - AC)</h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% if ps.is_sangha %}
                                            <tr>
                                                <td class="bg-danger text-center" style="font-size:1.3rem; font-weight: bold; color: white;" colspan="9">
                                                    CLOSE OF POLL - SANGHA                         
                                                    <span>
                                                        <button class="btn btn-light calc-sangha-btn" type="button">Calc. (PC - AC)</button>
                                                    </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                            {% endif %}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!--pc 7PM PC-->
                        <div class="table-responsive  mb-2">
                            <div class="card">
                                <div class="card-body">
                                    <h5>(CLOSE OF POLL - PC)
                                        <span>
                                            {% if ps.is_sangha %}
                                            <button class="btn btn-outline-primary calc-ac-sangha-btn" type="button">Calc. (AC + Sangha)</button>
                                            {% else %}
                                            <button class="btn btn-outline-primary copy-ac-btn" type="button">Copy AC</button>
                                            {% endif %}
                                        </span>
                                    </h5>
                                    <table class="table table-bordered table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th>Male</th>
                                                <th>M %</th>
                                                <th>Female</th>
                                                <th>F %</th>
                                                <th>Other</th>
                                                <th>O %</th>
                                                <th>Total</th>
                                                <th>Total %</th>
                                                <th>action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <input type="number" class="form-control" name="male_voter_count" placeholder="">
                                                </td>
                                                <td>
                                                    <!-- input voter count -->                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="female_voter_count" placeholder="">                                           
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <input type="number" class="form-control" name="other_voter_count" placeholder="">
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <!-- input voter count -->
                                                    
                                                </td>
                                                <td>
                                                    <button class="btn btn-sm btn-warning reload-turnout-btn mb-1">Reload</button><br>
                                                    <button class="btn btn-sm btn-info update-turnout-btn">Update</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}